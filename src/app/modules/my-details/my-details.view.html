<ion-header>
	<ion-navbar>
		<ion-title>My details</ion-title>
	</ion-navbar>
</ion-header>

<ion-content>

	<form
		[formGroup]='mydetailsForm'
		(ngSubmit)='userSvc.updateDetails(mydetailsForm.value, mydetailsForm.valid, "details").subscribe()'
		novalidate ion-list
	>
		<ion-list>

			<ion-item-divider color="light">
				Profile image
			</ion-item-divider>

			<ion-item>

				<ion-avatar item-left>
					<loading-img [src]="userSvc.profileImage | async"></loading-img>
	    	</ion-avatar>

				<button type="button" image-uploader ion-button item-right>Change</button>
			</ion-item>

			<ion-item-divider color="light">
				Password
			</ion-item-divider>

			<ion-item>
				<ion-label floating>Current password</ion-label>
				<ion-input
					formControlName="password"
					type="password"
					value="xxxxxxxxx"
				></ion-input>
				<button type="button" ion-button item-right (click)="changePassword()">Change</button>
			</ion-item>

			<ion-item-divider color="light">
				Personal details
			</ion-item-divider>

			<ion-item>
				<ion-label floating>Email:</ion-label>
				<ion-input
					formControlName="email"
				 	type="email"
				 ></ion-input>
			</ion-item>

			<ion-item>
				<ion-label floating>Location</ion-label>
				<ion-input
					formControlName="location"
					type="text"
				></ion-input>
			</ion-item>

			<ion-item>
				<ion-label floating>First name</ion-label>
				<ion-input
					formControlName="firstName"
					type="text"
				></ion-input>
			</ion-item>

			<ion-item>
				<ion-label floating>Last name</ion-label>
				<ion-input
					formControlName="lastName"
					type="text"
				></ion-input>
			</ion-item>

			<ion-item>
				<ion-label floating>Date of birth</ion-label>
				<ion-datetime
					displayFormat="DD / M / YYYY"
					formControlName="dob"
				></ion-datetime>
			</ion-item>

			<ion-item>
				<button
					[disabled]="mydetailsForm.valid && !mydetailsForm.dirty"
					type="submit"
					ion-button
					block
					large>Update personal details</button>
			</ion-item>

		</ion-list>

	</form>

</ion-content>
