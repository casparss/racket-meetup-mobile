<ion-header>
	<ion-navbar>
		<ion-buttons start>
			<button (click)="openPage('settings')" ion-button icon-only>
				<ion-icon name="settings"></ion-icon>
			</button>
		</ion-buttons>

		<ion-title>Profile</ion-title>

		<ion-buttons end>
			<button (click)="openPage('search')" ion-button icon-only>
				<ion-icon name="search"></ion-icon>
			</button>
		</ion-buttons>
	</ion-navbar>
</ion-header>

<ion-content>
	<ion-list>
		<ion-item-divider light></ion-item-divider>

		<button ion-item (click)="openPage('profileMain')">
			<ion-thumbnail item-left>
				<loading-img [src]="userSvc.profileImage | async"></loading-img>
			</ion-thumbnail>
			<h2>{{(userSvc.current.$ | async)?.details.fullName}}</h2>
			<p>Profile</p>
			<button ion-button clear item-right>View</button>
		</button>

		<ion-item-divider light></ion-item-divider>

		<button (click)="openPage('games')" ion-item>
			<ion-icon name="tennisball" item-left></ion-icon>
			Games
			<ion-badge *ngIf="(lengths?.pending) > 0" item-end color="danger">{{lengths?.pending}}</ion-badge>
			<ion-badge *ngIf="(lengths?.accepted) > 0" item-end>{{lengths?.accepted}}</ion-badge>
		</button>

		<button (click)="openPage('followers')" ion-item>
			<ion-icon name="people" item-left></ion-icon>
			Followers
		</button>

		<button disabled (click)="openPage('followers')" ion-item>
			<ion-icon name="trophy" item-left></ion-icon>
			Competitions
		</button>

		<button disabled (click)="openPage('followers')" ion-item>
			<ion-icon name="stats" item-left></ion-icon>
			Stats
		</button>

		<ion-item-divider light></ion-item-divider>

		<button ion-item detail-none (click)="presentLogoutConfirm()">
			<span class="logout">Logout</span>
		</button>

		<ion-item-divider light></ion-item-divider>

	</ion-list>

</ion-content>
